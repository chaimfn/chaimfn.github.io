"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([["components_tdih-header_index_tsx-components_this-day-in-history-featured_index_tsx-components-96abab"],{"./assets/icons/chevron-left.js":function(e,t,s){s.d(t,{s:function(){return r}});var n=s("./node_modules/@swc/helpers/src/_object_spread.mjs"),a=s("./node_modules/@swc/helpers/src/_object_spread_props.mjs"),i=s("./node_modules/react/jsx-runtime.js"),r=function(e){return(0,i.jsx)("svg",(0,a.Z)((0,n.Z)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1},e),{children:(0,i.jsx)("path",{d:"M15.428 22a1.52 1.52 0 0 1-1.111-.488L6.46 13.178a1.738 1.738 0 0 1 0-2.356l7.857-8.334a1.508 1.508 0 0 1 2.222 0 1.738 1.738 0 0 1 0 2.357L9.793 12l6.747 7.156a1.739 1.739 0 0 1 0 2.357c-.307.325-.71.487-1.112.487Z",fill:"currentColor"})}))}},"./assets/icons/chevron-right.js":function(e,t,s){s.d(t,{_:function(){return r}});var n=s("./node_modules/@swc/helpers/src/_object_spread.mjs"),a=s("./node_modules/@swc/helpers/src/_object_spread_props.mjs"),i=s("./node_modules/react/jsx-runtime.js"),r=function(e){return(0,i.jsx)("svg",(0,a.Z)((0,n.Z)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1},e),{children:(0,i.jsx)("path",{d:"M7.714 22c-.439 0-.877-.163-1.212-.488a1.633 1.633 0 0 1 0-2.357l7.362-7.154-7.362-7.156a1.633 1.633 0 0 1 0-2.357 1.749 1.749 0 0 1 2.424 0l8.572 8.333c.67.651.67 1.706 0 2.357L8.926 21.51c-.334.329-.773.49-1.212.49Z",fill:"currentColor"})}))}},"./components/tdih-header/index.tsx":function(e,t,s){s.d(t,{u:function(){return b}});var n=s("./node_modules/react/jsx-runtime.js"),a=s("./components/page-breadcrumbs/index.tsx"),i=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),r=s("./node_modules/@swc/helpers/src/_sliced_to_array.mjs"),d=s("./node_modules/dayjs/dayjs.min.js"),o=s.n(d),l=s("./node_modules/react/index.js"),c=s("./node_modules/next/router.js"),u=s("./assets/icons/chevron-left.js"),h=s("./assets/icons/chevron-right.js"),m=s("./node_modules/@swc/helpers/src/_object_spread.mjs"),_=s("./node_modules/@swc/helpers/src/_object_spread_props.mjs"),f=function(e){return(0,n.jsx)("svg",(0,_.Z)((0,m.Z)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1},e),{children:(0,n.jsx)("path",{fill:"currentColor",d:"M6 2v2H5c-1.093 0-2 .907-2 2v14c0 1.093.907 2 2 2h14c1.093 0 2-.907 2-2V6c0-1.093-.907-2-2-2h-1V2h-2v2H8V2H6ZM5 9h14v11H5V9Zm7 4v5h5v-5h-5Z"})}))},x=s("./node_modules/@wordpress/i18n/build-module/index.js"),p=s("./utils/hooks/use-on-click-outside.ts"),j=s("./utils/hooks/use-key.ts"),v=[31,29,31,30,31,30,31,31,30,31,30,31];function g(e,t){e.push({pathname:"/this-day-in-history/day/[day]",query:{day:t}})}function y(e){var t=e.date,s=(0,i.QT)().__,a=(0,c.useRouter)(),d=o()(t),m=o()().format("MMMM-D").toLowerCase(),_=d.format("MMMM-D").toLowerCase(),y=_===m,b=(0,l.useState)(d.month()),w=b[0],N=b[1],M=(0,l.useState)(!1),k=M[0],C=M[1],D=o()("".concat(2020,"-").concat(w+1,"-01")),L=D.format("MMMM"),T=D.subtract(1,"month").format("MMMM"),R=D.add(1,"month").format("MMMM"),A=D.format("MMMM").toLowerCase(),E=(0,l.useMemo)((function(){for(var e=v[w],t=[[],[],[],[],[]],s=0;s<e;s++){var n=s+1,a=n.toString();t[Math.floor(s/7)].push({day:n,slug:"".concat(A,"-").concat(a)})}return t}),[w,A]),H=d.format("MMMM D"),Z=(0,l.useRef)(null),S=(0,l.useRef)(null),B=(0,l.useRef)(null),z=(0,l.useRef)([]),I=s("Invalid date");(0,p.t)(S,(function(){return C(!1)})),(0,l.useEffect)((function(){var e="js-calendar-open";k?document.body.classList.add(e):document.body.classList.remove(e)}),[k]),(0,j.z)("Escape",(function(){return C(!1)}),Z);var F=function(e){var t=w+e;t<0?t=11:t>11&&(t=0),N(t)};(0,l.useEffect)((function(){if(B.current){var e=B.current.querySelectorAll("button");z.current=Array.from(e)}}),[w]);var V=(0,x.gB)(s("Show days for previous month: %s"),T),Q=(0,x.gB)(s("Show days for next month: %s"),R);return(0,j.z)((function(e){if(!k)return!1;var t=e.key;return"ArrowLeft"===t||"ArrowRight"===t}),(function(e){var t="ArrowLeft"===e.key?-1:1,s=e.target,n=z.current.indexOf(s)+t;return n<0?(F(-1),void setTimeout((function(){z.current[z.current.length-1].focus()}),0)):n>z.current.length-1?(F(1),void setTimeout((function(){z.current[0].focus()}),0)):void z.current[n].focus()}),B),(0,n.jsxs)("form",{className:"tdih-calendar",onSubmit:function(e){if(e.preventDefault(),Z.current){var t=Z.current.elements[0],s=(0,r.Z)(t.value.split("/"),2),n=s[0],i=s[1],d="".concat(2020,"-").concat(n,"-").concat(i),l=new Date(d);if(!isFinite(+l))return t.setCustomValidity(I),void t.reportValidity();var c=o()(l).date(parseInt(i,10)).format("MMMM-D").toLowerCase();g(a,c),t.value=""}},ref:Z,children:[(0,n.jsxs)("label",{htmlFor:"tdih-calendar-date",className:"tdih-calendar__label",children:[s("Choose another date"),(0,n.jsx)("span",{className:"screen-reader-text",children:(0,x.gB)(s("Current one is: %s. Enter a date in the format M/D (e.g., 1/1)"),H)})]}),(0,n.jsxs)("div",{className:"tdih-calendar-group",ref:S,children:[(0,n.jsx)("p",{className:"screen-reader-text",id:"calendar-instruction",children:s("Changing the day will navigate the page to that given day in history. You can navigate days by using left and right arrows")}),(0,n.jsx)("input",{id:"tdih-calendar-date",name:"date",className:"tdih-calendar__input",placeholder:s("M/D"),pattern:"\\d{1,2}\\/\\d{1,2}",onChange:function(e){e.target.setCustomValidity("")},required:!0}),(0,n.jsx)("button",{className:"tdih-calendar__button","aria-label":s(k?"Close Calendar":"Open Calendar"),"aria-expanded":k,type:"button",onClick:function(){return C(!k)},children:(0,n.jsx)(f,{width:20,height:20})}),(0,n.jsxs)("div",{className:"tdih-calendar__calendar","aria-hidden":!k,children:[(0,n.jsxs)("div",{className:"calendar__wrapper",children:[(0,n.jsxs)("div",{className:"calendar__header",children:[(0,n.jsx)("button",{type:"button",className:"calendar__month-button","aria-label":V,onClick:function(){return F(-1)},children:(0,n.jsx)(u.s,{width:20,height:20})}),(0,n.jsx)("div",{className:"calendar__month","aria-live":"polite",children:L}),(0,n.jsx)("button",{type:"button",className:"calendar__month-button","aria-label":Q,onClick:function(){return F(1)},children:(0,n.jsx)(h._,{width:20,height:20})})]}),(0,n.jsx)("table",{className:"calendar__table",ref:B,children:(0,n.jsx)("tbody",{children:E.map((function(e,t){return(0,n.jsx)("tr",{children:e.map((function(e){var t=e.day,i=e.slug;return(0,n.jsx)("td",{children:(0,n.jsx)("button",{type:"button",className:"calendar__day-button","aria-describedby":"calendar-instruction",tabIndex:i===_?0:-1,"aria-label":(0,x.gB)(s("See this day in history %1$s %2$s"),L,t),onClick:function(){return function(e){g(a,e),C(!1)}(i)},children:t})},i)}))},t)}))})})]}),!y&&(0,n.jsx)("button",{className:"button has-dark-background-color calendar__today-button",onClick:function(){return a.push("/this-day-in-history"),void C(!1)},type:"button",children:s("Today")})]})]})]})}function b(e){var t=e.titleAsHeading,s=e.date,r=t?"h1":"p",d=(0,i.QT)().__,l=o()(s).format("MMMM D"),c=o()(s).format("MMMM | D");return(0,n.jsx)("header",{className:"tdih-header",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"tdih-header__left",children:[(0,n.jsx)(a.V,{}),(0,n.jsxs)(r,{className:"tdih-header__title",children:[d("This Day In History"),(0,n.jsxs)("span",{className:"screen-reader-text",children:[": ","".concat(l)]})]})]}),(0,n.jsxs)("div",{className:"tdih-header__right",children:[(0,n.jsx)("div",{className:"tdih-header__current","aria-hidden":!0,children:c}),(0,n.jsx)(y,{date:s})]})]})})}},"./components/this-day-in-history-featured/index.tsx":function(e,t,s){var n=s("./node_modules/react/jsx-runtime.js"),a=s("./node_modules/next/image.js"),i=s.n(a),r=s("./node_modules/next/config.js"),d=s.n(r),o=s("./node_modules/classnames/index.js"),l=s.n(o),c=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),u=s("./assets/icons/point-right.js"),h=s("./components/link/index.tsx"),m=s("./components/video-badges/index.tsx"),_=s("./utils/hooks/use-post-image.ts"),f=s("./components/image-credit/index.tsx"),x=s("./utils/url-helpers.ts"),p=s("./utils/post-helpers.ts"),j=s("./components/video-player/index.tsx"),v=d()().publicRuntimeConfig.IMAGE_PLACEHOLDER,g=["(min-width: 1255px) 741px","(min-width: 850px) calc(60vw - 2.5rem)","100vw"].join(", ");t.Z=function(e){var t,s,a,r,d=e.post,o=e.images,y=e.isPost,b=e.video,w=(0,c.QT)().__,N=d.video_thumbnail,M=(0,_.J)(d,o),k=(null===(t=null===M||void 0===M?void 0:M.media_details.sizes)||void 0===t||null===(s=t.full)||void 0===s?void 0:s.source_url)||v,C=(null===M||void 0===M||null===(a=M.media_details)||void 0===a?void 0:a.width)||1920,D=(null===M||void 0===M||null===(r=M.media_details)||void 0===r?void 0:r.height)||1080,L=y?"h1":"h2",T=y&&!!(null===b||void 0===b?void 0:b.id),R=l()("tdih-featured",{"tdih-featured--has-video":T}),A=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{src:k,alt:"",className:"tdih-featured__featured-image tdih-featured__featured-image--mobile",objectFit:"cover",sizes:g,loading:"eager",width:C,height:D}),(0,n.jsx)(i(),{src:k,alt:"",layout:"fill",className:"tdih-featured__featured-image tdih-featured__featured-image--desktop",objectFit:"cover",sizes:g,loading:"eager"}),N&&(0,n.jsx)(m.q,{isLarge:!0,title:d.title.rendered})]});return T&&(A=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(j.Y,{className:"tdih-featured__video-player",video:b})})),(0,n.jsxs)("div",{className:R,children:[!!M&&(0,n.jsx)(i(),{src:k,alt:"",layout:"fill",className:"tdih-featured__bg-image",sizes:"100vw"}),(0,n.jsxs)("div",{className:"tdih-featured__content",children:[(0,n.jsxs)("div",{className:"featured-content-card featured-content-card__content",children:[d.tdih_year_term&&(0,n.jsx)("p",{className:"featured-content-card__eyebrow tdih-featured__year",children:d.tdih_year_term.name}),(0,n.jsxs)(L,{className:"featured-content-card__title",children:[y&&(0,n.jsx)("span",{className:"tdih-featured__title",children:(0,p.SH)(d.title.rendered)}),!y&&(0,n.jsx)(h.s3,{className:"tdih-featured__title featured-content-card__link",href:(0,x.a9)(d.link),children:(0,p.SH)(d.title.rendered)})]}),!y&&(0,n.jsxs)(h.s3,{className:"featured-content-card__link button is-style-standalone has-icon",href:(0,x.a9)(d.link),tabIndex:-1,children:[w("Read more"),(0,n.jsx)(u.e,{width:"18",height:"18"})]})]}),(0,n.jsxs)("figure",{className:"tdih-featured__image-container",children:[y&&(0,n.jsx)("div",{className:"tdih-featured__image-link",children:A}),!y&&(0,n.jsx)(h.s3,{href:(0,x.a9)(d.link),tabIndex:-1,className:"tdih-featured__image-link",children:A}),M&&(0,n.jsx)(f.k,{credit:M.meta.credit,creditUrl:M.meta.credit_url,baseClassName:"tdih-featured__image-credit",children:(0,n.jsx)("strong",{children:w("Photo Credit: ")})})]})]})]})}},"./components/this-day-in-history-grid/card.tsx":function(e,t,s){s.d(t,{z:function(){return v}});var n=s("./node_modules/react/jsx-runtime.js"),a=s("./utils/post-helpers.ts"),i=s("./assets/icons/flash.js"),r=s("./node_modules/next/image.js"),d=s.n(r),o=s("./node_modules/classnames/index.js"),l=s.n(o),c=s("./utils/hooks/use-post-image.ts"),u=s("./components/link/index.tsx"),h=s("./utils/hooks/use-primary-term.ts"),m=s("./utils/url-helpers.ts"),_=s("./node_modules/@wordpress/i18n/build-module/index.js"),f=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),x=s("./node_modules/next/config.js"),p=s.n(x)()().publicRuntimeConfig.IMAGE_PLACEHOLDER,j=["(min-width: 1248px) 384px","(min-width: 850px) calc(33.33vw - 2.5rem)","(min-width: 636px) calc(50vw - 2.5rem)","calc(100vw - 2.5rem)"].join(", ");function v(e){var t,s,r,o,x=e.post,v=e.images,g=e.terms,y=(0,f.QT)().__,b="type"in x,w=(0,c.J)(b?x:void 0,v),N=l()("tdih-posts-grid__article has-elevation",{"tdih-posts-grid__article--has-featured-image":!!w}),M=b?(null===(t=null===w||void 0===w?void 0:w.media_details.sizes)||void 0===t||null===(s=t.full)||void 0===s?void 0:s.source_url)||"":x.featured_media_url||"",k=(0,h.Z)(b?x:void 0,g),C=b?k:x.story_category[0],D=b?x.title.rendered:x.title,L="",T="",R=b?(0,m.a9)(x.link):"/this-day-in-history/".concat(x.slug);if(C&&("link"in C?L=C.link:"url"in C&&(L=C.url)),b){if(!(T=(null===(r=x.tdih_year_term)||void 0===r?void 0:r.name)||"")){var A,E=x.tdih_year[0];T=(null===g||void 0===g||null===(A=g[E])||void 0===A?void 0:A.name)||""}}else T=(null===(o=x.year[0])||void 0===o?void 0:o.name)||"";return(0,n.jsxs)("article",{className:N,children:[(0,n.jsx)(d(),{className:"tdih-posts-grid__article-image",src:M||p,layout:"fill",alt:"",sizes:j}),T&&(0,n.jsx)("span",{className:"tdih-posts-grid__article-year",children:T}),(0,n.jsx)("h3",{className:"tdih-posts-grid__article-title",children:(0,n.jsx)(u.s3,{href:R,className:"tdih-posts-grid__article-link",children:(0,a.SH)(D)})}),L&&(null===C||void 0===C?void 0:C.name)&&(0,n.jsxs)(u.UP,{href:(0,m.a9)(L),className:"tdih-posts-grid__article-meta","aria-label":(0,_.gB)(y("Read more articles on %s"),C.name),children:[(0,n.jsx)(i.T,{width:"20",height:"20"}),C.name]})]})}},"./components/this-day-in-history-grid/index.tsx":function(e,t,s){s.d(t,{Z:function(){return f}});var n=s("./node_modules/react/jsx-runtime.js"),a=s("./node_modules/react/index.js"),i=s("./node_modules/dayjs/dayjs.min.js"),r=s.n(i),d=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),o=s("./node_modules/@wordpress/i18n/build-module/index.js"),l=s("./components/raw-html/index.tsx"),c=s("./components/this-day-in-history-grid/card.tsx"),u=s("./components/block-banner/index.js"),h=s("./node_modules/next/config.js"),m=s.n(h)()().publicRuntimeConfig.BANNER_IMAGE;function _(){var e=(0,d.QT)().__;return(0,n.jsx)(u.l,{heading:e("Sign up for Daily This Day in History!"),text:e("<p>Sign up now to learn about This Day in History straight from your inbox.</p>"),ctaButtonText:e("Sign Up"),className:"is-style-sign-up",bgMediaURL:m,ctaEnabled:!0,ctaURL:"/emails/single/this-day-in-history",anchor:void 0,headingTag:"h3",style:void 0})}var f=function(e){var t=e.date,s=e.posts,i=e.images,u=e.terms,h=e.description,m=e.hasFeatured,f=(0,d.QT)().__;if(!Array.isArray(s)||0===s.length)return null;var x=s.length>9?5:2,p=r()(t).format("MMMM | D"),j=m?(0,o.gB)(f('Also on This Day in History <span class="tdih-posts__title-date">%s</span>'),p):f("This Day in History");return(0,n.jsxs)("div",{className:"tdih-posts",children:[(0,n.jsx)(l.w,{value:j,tagName:"h2",className:"tdih-posts__title"}),(0,n.jsx)("hr",{className:"wp-block-separator has-background has-grey-color alignfull"}),h&&(0,n.jsx)(l.w,{value:h,tagName:"div",className:"tdih-posts__description"}),(0,n.jsx)("div",{className:"tdih-posts-grid",children:s.map((function(e,t){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(c.z,{post:e,images:i,terms:u}),t===x&&(0,n.jsx)(_,{})]},e.id)}))})]})}},"./utils/hooks/use-post-image.ts":function(e,t,s){function n(e,t){var s;return t&&e&&(e.meta&&e.meta.post_thumbnail_image&&e.meta.post_thumbnail_image in t?s=t[e.meta.post_thumbnail_image]:e.featured_media&&e.featured_media in t&&(s=t[e.featured_media])),s}s.d(t,{J:function(){return n}})}}]);